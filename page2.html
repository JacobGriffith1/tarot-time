<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,
    initial-scale=1.0">
    <title>Card Fan Spread Animation</title>
    <link rel="stylesheet" type="text/css" href="page2.css">
</head>
<body>
    <header>
        <h1>Select 5 Cards</h1>
    </header>

    <div id="selected-cards-count">0</div>
    <main>
        <!-- Cards Spread -->
        <div class="container">
            <div class="card" style="--i:-11;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-10;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-9;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-8;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-7;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-6;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-5;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-4;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-3;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-2;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:-1;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:0;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:1;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:2;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:3;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:4;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:5;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:6;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:7;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            
            </div>
            <div class="card" style="--i:8;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:9;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
            <div class="card" style="--i:10;">
                <img src="images/blue_back.png" alt="Image 1" style="width: 160px; height: 300px;">
            </div>
        </div>
        
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.container .card');
    const header = document.querySelector('header h1');
    const headers = [
        "Current Situation",
        "What fears are you holding back?",
        "Your strengths",
        "Weaknesses",
        "Your potential",
    ];
    let selectedCards = [];
    let selectedCardsCount = 0;
    let clickedCardCount = 0;

    // Initial card selection logic
    cards.forEach(card => {
        card.addEventListener('click', () => {
            if (!card.classList.contains('selected') && selectedCardsCount < 5) {
                // Mark card as selected
                card.classList.add('selected');
                selectedCards.push(card);
                selectedCardsCount++;

                // Check if all 5 cards are selected
                if (selectedCardsCount === 5) {
                    finalizeSelection();
                }
            }
        });
    });

    function finalizeSelection() {
        // Update the header for the first step
        updateHeader(0);

        // Hide unselected cards
        cards.forEach(card => {
            if (!card.classList.contains('selected')) {
                card.style.display = 'none';
            }
        });

        // Layout selected cards evenly
        const container = document.querySelector('.container');
        container.style.display = 'flex';
        container.style.justifyContent = 'space-evenly';
        container.style.alignItems = 'center';

        // Enable clicking on selected cards for the reading process
        selectedCards.forEach(card => {
            card.style.position = 'static'; // Reset position for flexbox
            card.style.transform = 'none'; // Remove any transform effects
            card.addEventListener('click', () => handleCardClick(card));
        });
    }

    function handleCardClick(card) {
        if (card.classList.contains('disabled')) return;

        // Assign values based on the stage (clickedCardCount)
        const value = String.fromCharCode(97 + clickedCardCount); // a, b, c, ...
        card.dataset.value = value;
        card.classList.add('disabled');
        console.log(`Card assigned "${value}":`, card);

        clickedCardCount++;

        // Update the header for the next step, if available
        if (clickedCardCount < headers.length) {
            updateHeader(clickedCardCount);
        }
    }

    function updateHeader(stage) {
        header.textContent = headers[stage];
    }
});

    </script>
</body>
</html>